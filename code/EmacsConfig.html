<!DOCTYPE html><html lang="en"><head>
  <meta charset="utf-8">
  <title></title>

  <link rel="stylesheet" href="/assets/css/style.css" type="text/css">

</head>

<body>

  <content>

    <aside role="nav" class="nav">
      <nav>
        <h3 id="logo"><a id="sitename" href="/">bnbeckwith</a></h3>
        <ul class="navbar-nav" id="navlinks">
          <li><a href="/blog">Blog</a></li>
          <li><a href="/tags">Tags</a></li>
          <li id=""><a href="/archive">Archive</a></li><li><a href="/code/">Code</a></li>
        </ul>
      </nav>
    </aside>

    <main id="content-wrapper">
      <div id="page-header">
        <h1 id="content-title"></h1>
      </div>
      
      <article id="content"><section id="root"><section class="hsec2"><h2>Installation</h2><p>  My 
<verbatim>init.el</verbatim> file is quite simple and is generated by the following
<!-- 
 -->  block.  Essentially, I just have to install this package
  (
<verbatim>bnb-emacs</verbatim>) in the =~
<!-- 
 --><em>.emacs.d
</em>= directory and run the code block
<!-- 
 -->  to bootstrap the system.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">require</span> <span class="ss">'package</span><span class="p">)</span>
<span class="p">(</span><span class="nv">package-initialize</span><span class="p">)</span>

<span class="p">(</span><span class="nb">require</span> <span class="ss">'ob-tangle</span><span class="p">)</span>
<span class="p">(</span><span class="nv">org-babel-load-file</span> <span class="s">&quot;~/.emacs.d/bnb-emacs/Readme.org&quot;</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec2"><h2>Configuration</h2><section class="hsec3"><h3>Start Timer</h3><p>   I use a timer to see how long it took my setup to load.  At the
   end, I will check this timer and report on a the length of time to
   load.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">defvar</span> <span class="vg">*emacs-load-start*</span> <span class="p">(</span><span class="nv">current-time</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec3"><h3>Personal Information</h3><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">user-full-name</span> <span class="s">&quot;Benjamin Beckwith&quot;</span><span class="p">)</span>
</pre></div>
<p></p><p></p></section><section class="hsec3"><h3>Style</h3><p></p><section class="hsec4"><h4>Frame Changes</h4><p>    These following items make Emacs really beautiful on every
    platform.  I remove the menu bar, tool bar and the scroll bar for
    starters.  Then, I setup the fringe area with some items
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">fboundp</span> <span class="ss">'menu-bar-mode</span><span class="p">)</span> <span class="p">(</span><span class="nv">menu-bar-mode</span> <span class="mi">-1</span><span class="p">))</span>
<span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">fboundp</span> <span class="ss">'tool-bar-mode</span><span class="p">)</span> <span class="p">(</span><span class="nv">tool-bar-mode</span> <span class="mi">-1</span><span class="p">))</span>
<span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">fboundp</span> <span class="ss">'scroll-bar-mode</span><span class="p">)</span> <span class="p">(</span><span class="nv">scroll-bar-mode</span> <span class="mi">-1</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Window Changes</h4><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">indicate-buffer-boundaries</span> <span class="ss">'right</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">indicate-empty-lines</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="k">setq</span> <span class="nv">frame-title-format</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;%b - %F&quot;</span><span class="p">))</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Org Fonts</h4><p>    This face needs to be set to strike-through to look great
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">org-done</span> <span class="p">((</span><span class="no">t</span> <span class="p">(</span><span class="ss">:foreground</span> <span class="s">&quot;green3&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span> <span class="ss">:strike-through</span> <span class="no">t</span><span class="p">))))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Perspective Fonts</h4><p>    I set this face through customize.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">eval-after-load</span> <span class="ss">'perspective</span>
    <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'persp-selected-face</span> <span class="no">nil</span> <span class="ss">:foreground</span> <span class="s">&quot;SystemActiveTitle&quot;</span> <span class="ss">:weight</span> <span class="ss">'bold</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section></section><section class="hsec3"><h3>Local customizations (custom.el)</h3><p>   I typically use the customize interface to generate any local
   settings such as proxies, paths, fonts, etc. that may vary from
   machine to machine.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">custom-file</span> <span class="s">&quot;~/.emacs.d/custom.el&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">file-exists-p</span> <span class="nv">custom-file</span><span class="p">)</span>
      <span class="p">(</span><span class="nv">load-file</span> <span class="nv">custom-file</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec3"><h3>Small Settings</h3><section class="hsec4"><h4>Package archives</h4><p>    I like to pull from the popular list of package archives.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'package-archives</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;melpa&quot;</span> <span class="o">.</span> <span class="s">&quot;http://melpa.milkbox.net/packages/&quot;</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'package-archives</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;marmalade&quot;</span> <span class="o">.</span> <span class="s">&quot;http://marmalade-repo.org/packages/&quot;</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'package-archives</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;org&quot;</span> <span class="o">.</span> <span class="s">&quot;http://orgmode.org/elpa/&quot;</span><span class="p">)</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p>    After these are set, I can make sure that the proper packages are
    installed.  This may take some time the first time it runs.
</p><p></p><div class="highlight"><pre>  <span class="c1">;; Idea lifted from prelude https://github.com/bbatsov/prelude</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'cl</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">defvar</span> <span class="nv">bnb/packages</span>
    <span class="o">'</span><span class="p">(</span><span class="nv">airplay</span>
      <span class="nv">bookmark+</span>
      <span class="nv">cider</span>
      <span class="nv">clojure-mode</span>
      <span class="nv">color-theme-sanityinc-tomorrow</span>
      <span class="nv">dired+</span>
      <span class="nv">guide-key</span>
      <span class="nv">htmlize</span>
      <span class="nv">highline</span>
      <span class="nv">ido-ubiquitous</span>
      <span class="nv">keywiz</span>
      <span class="nv">magit</span>
      <span class="nv">org-plus-contrib</span>
      <span class="nv">paredit</span>
      <span class="nv">perspective</span>
      <span class="nv">powerline</span>
      <span class="nv">rainbow-mode</span>
      <span class="nv">smart-tabs-mode</span>
      <span class="nv">smex</span>
      <span class="nv">undo-tree</span>
      <span class="nv">writegood-mode</span><span class="p">))</span>

  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/packages-installed-p</span> <span class="p">()</span>
    <span class="p">(</span><span class="nb">loop</span> <span class="nv">for</span> <span class="nv">p</span> <span class="nv">in</span> <span class="nv">bnb/packages</span>
          <span class="nb">when</span> <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nv">package-installed-p</span> <span class="nv">p</span><span class="p">))</span> <span class="nb">do</span> <span class="p">(</span><span class="nb">return</span> <span class="no">nil</span><span class="p">)</span>
          <span class="nv">finally</span> <span class="p">(</span><span class="nb">return</span> <span class="no">t</span><span class="p">)))</span>

  <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nv">bnb/packages-installed-p</span><span class="p">)</span>
    <span class="c1">;; Need to update package contents</span>
    <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;%s&quot;</span> <span class="s">&quot;Emacs refreshing package contents...&quot;</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">package-refresh-contents</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;done.&quot;</span><span class="p">)</span>

    <span class="c1">;; install the missing packages</span>
    <span class="p">(</span><span class="nb">dolist</span> <span class="p">(</span><span class="nv">p</span> <span class="nv">bnb/packages</span><span class="p">)</span>
      <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nv">package-installed-p</span> <span class="nv">p</span><span class="p">))</span>
        <span class="p">(</span><span class="nv">package-install</span> <span class="nv">p</span><span class="p">))))</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Required packages</h4><div class="highlight"><pre>  <span class="p">(</span><span class="nv">eval-when-compile</span>
    <span class="p">(</span><span class="nb">require</span> <span class="ss">'cl</span><span class="p">))</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'saveplace</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'ffap</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'uniquify</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'ansi-color</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'recentf</span><span class="p">)</span>
</pre></div>
</section><section class="hsec4"><h4>Minibuffer History Save</h4><p>    This saves the minibuffer histories to preserve across emacs
    sessions.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">savehist-additional-variables</span>
        <span class="o">'</span><span class="p">(</span><span class="nv">search-ring</span> <span class="nv">regexp-search-ring</span><span class="p">)</span>
        <span class="nv">savehist-file</span> <span class="s">&quot;~/.emacs.d/savehist&quot;</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">savehist-mode</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Display times</h4><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">display-time-world-list</span>
      <span class="o">'</span><span class="p">((</span><span class="s">&quot;EST5EDT&quot;</span> <span class="s">&quot;Hudson&quot;</span><span class="p">)</span>
	<span class="p">(</span><span class="s">&quot;CST6CST&quot;</span> <span class="s">&quot;Iowa&quot;</span><span class="p">)</span>
	<span class="p">(</span><span class="s">&quot;MST7MST&quot;</span> <span class="s">&quot;Fort Collins&quot;</span><span class="p">)</span>
	<span class="p">(</span><span class="s">&quot;PST8PDT&quot;</span> <span class="s">&quot;DuPont&quot;</span><span class="p">)))</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Hippie Expand</h4><p>    Try to expand the text before point in an intelligent way. Repeat
    the keypress to cycle through options.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;M-/&quot;</span><span class="p">)</span> <span class="ss">'hippie-expand</span><span class="p">)</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Emacs Bookmarks</h4><p>    
<a href="http://emacswiki.org/emacs/BookMarks">http://emacswiki.org/emacs/BookMarks</a></p><p></p><table><tbody><tr><th>Keystroke
</th><th>Action
</th></tr><tr><td>C-x r m
</td><td>Set a bookmark
</td></tr><tr><td>C-x r b
</td><td>Jump to a bookmark
</td></tr><tr><td>C-x r l
</td><td>List your bookmarks
</td></tr><tr><td>M-x bookmark-delete
</td><td>Delete bookmark by name
</td></tr></tbody></table><p>    I will auto-save my bookmarks.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">bookmark-save-flag</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Writegood Mode</h4><p>    This mode is installed and managed through the ELPA system.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-c g&quot;</span><span class="p">)</span> <span class="ss">'writegood-mode</span><span class="p">)</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Development</h4><p>    For any lisp development, the following is nice to have.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">show-paren-mode</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p>    While developing, documentation is nice to have handy and
    automatic.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'emacs-lisp-mode-hook</span> <span class="ss">'turn-on-eldoc-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'cperl-mode-hook</span> <span class="ss">'turn-on-eldoc-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'eshell-mode-hook</span> <span class="ss">'turn-on-eldoc-mode</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Encryption</h4><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">require</span> <span class="ss">'epa</span><span class="p">)</span>
<span class="p">(</span><span class="nv">epa-file-enable</span><span class="p">)</span>
</pre></div>
<p></p></section><section class="hsec4"><h4>Faces</h4><section class="hsec5"><h5>Default Fonts</h5><p>     On windows, I have 
<em>Source Code Pro
</em> installed.  Let's use that
<!-- 
 -->     there.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">system-type</span> <span class="ss">'windows-nt</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'default</span> <span class="no">nil</span> <span class="ss">:font</span> <span class="s">&quot;Source Code Pro-10&quot;</span><span class="p">))</span>
</pre></div>
<p>     Setup a strike-through font for agenda items.  Looks prettier.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'org-agenda-done</span> <span class="no">nil</span> <span class="ss">:strike-through</span> <span class="no">t</span><span class="p">)</span>

  <span class="p">(</span><span class="nv">defadvice</span> <span class="nv">enable-theme</span> <span class="p">(</span><span class="nv">after</span> <span class="nv">org-strike-done</span> <span class="nv">activate</span><span class="p">)</span>
    <span class="s">&quot;Setup org-agenda-done faces to have strike-through on&quot;</span>
    <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;Running advice&quot;</span><span class="p">)</span>
         <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'org-agenda-done</span> <span class="no">nil</span> <span class="ss">:strike-through</span> <span class="no">t</span><span class="p">)))</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Dynamic Font sizes</h5><p>    Changing font sizes in presentations is crucial to have at hand. I
    use the following keybindings. &quot;C--&quot; overrides the negative
    argument function, but that one is also accessible by &quot;M--&quot;
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-+&quot;</span><span class="p">)</span> <span class="ss">'text-scale-increase</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C--&quot;</span><span class="p">)</span> <span class="ss">'text-scale-decrease</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Mode Line Style</h5><p>     I dislike the box around the 
<verbatim>mode-line</verbatim> making it look like a
<!-- 
 -->     button.  This face attribute, 
<verbatim>box</verbatim>, can be turned off get get a
<!-- 
 -->     more flat feel.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'mode-line</span> <span class="no">nil</span> <span class="ss">:box</span> <span class="no">nil</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'mode-line-inactive</span> <span class="no">nil</span> <span class="ss">:box</span> <span class="no">nil</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">set-face-attribute</span> <span class="ss">'mode-line-highlight</span> <span class="no">nil</span> <span class="ss">:box</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p></p><p></p></section></section><section class="hsec4"><h4>Read-only helpers</h4><p>    For read-only files, look at them in view mode
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">require</span> <span class="ss">'view</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">view-read-only</span> <span class="no">t</span><span class="p">)</span>     <span class="c1">; enter view-mode for read-only files</span>
<span class="p">(</span><span class="nv">define-key</span> <span class="nv">view-mode-map</span> <span class="s">&quot;n&quot;</span> <span class="ss">'next-line</span><span class="p">)</span>
<span class="p">(</span><span class="nv">define-key</span> <span class="nv">view-mode-map</span> <span class="s">&quot;p&quot;</span> <span class="ss">'previous-line</span><span class="p">)</span>
<span class="p">(</span><span class="nv">define-key</span> <span class="nv">view-mode-map</span> <span class="s">&quot;j&quot;</span> <span class="ss">'next-line</span><span class="p">)</span>
<span class="p">(</span><span class="nv">define-key</span> <span class="nv">view-mode-map</span> <span class="s">&quot;k&quot;</span> <span class="ss">'previous-line</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Default File encoding</h4><p>    By default, I like to have the files be 
<verbatim>utf-8</verbatim> by default. Do
<!-- 
 -->    let me know if I shouldn't do this, will you?
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">prefer-coding-system</span>       <span class="ss">'utf-8</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">set-default-coding-systems</span> <span class="ss">'utf-8</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">set-terminal-coding-system</span> <span class="ss">'utf-8</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">set-keyboard-coding-system</span> <span class="ss">'utf-8</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">default-buffer-file-coding-system</span> <span class="ss">'utf-8</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">x-select-request-type</span> <span class="o">'</span><span class="p">(</span><span class="nv">UTF8_STRING</span> <span class="nv">COMPOUND_TEXT</span> <span class="nv">TEXT</span> <span class="nv">STRING</span><span class="p">))</span>
  <span class="c1">;; MS Windows clipboard is UTF-16LE</span>
  <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">system-type</span> <span class="ss">'windows-nt</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">set-clipboard-coding-system</span> <span class="ss">'utf-16le-dos</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Vimrc generic mode</h4><p>    Good to have to help with my pentadactyl configuration as it is in
    a vim-style of configuration.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">define-generic-mode</span> <span class="ss">'vimrc-generic-mode</span>
  <span class="o">'</span><span class="p">()</span>
  <span class="o">'</span><span class="p">()</span>
  <span class="o">'</span><span class="p">((</span><span class="s">&quot;^[\t ]*:?\\(!\\|ab\\|map\\|unmap\\)[^\r\n\&quot;]*\&quot;[^\r\n\&quot;]*\\(\&quot;[^\r\n\&quot;]*\&quot;[^\r\n\&quot;]*\\)*$&quot;</span>
     <span class="p">(</span><span class="mi">0</span> <span class="nv">font-lock-warning-face</span><span class="p">))</span>
    <span class="p">(</span><span class="s">&quot;\\(^\\|[\t ]\\)\\(\&quot;.*\\)$&quot;</span>
     <span class="p">(</span><span class="mi">2</span> <span class="nv">font-lock-comment-face</span><span class="p">))</span>
    <span class="p">(</span><span class="s">&quot;\&quot;\\([^\n\r\&quot;\\]\\|\\.\\)*\&quot;&quot;</span>
     <span class="p">(</span><span class="mi">0</span> <span class="nv">font-lock-string-face</span><span class="p">)))</span>
  <span class="o">'</span><span class="p">(</span><span class="s">&quot;/vimrc\\'&quot;</span> <span class="s">&quot;\\.vim\\(rc\\)?\\'&quot;</span><span class="p">)</span>
  <span class="o">'</span><span class="p">((</span><span class="k">lambda</span> <span class="p">()</span>
      <span class="p">(</span><span class="nv">modify-syntax-entry</span> <span class="nv">?\&quot;</span> <span class="s">&quot;.&quot;</span><span class="p">)))</span>
  <span class="s">&quot;Generic mode for Vim configuration files.&quot;</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Ediff single frame</h4><p>    I really dislike the multi-frame mode of 
<verbatim>ediff</verbatim>.  It is confusing
<!-- 
 -->    to use and really messes up my 
<a href="http://dwm.suckless.org">dwm</a> usage. By explicitly setting
<!-- 
 -->    the following setting, it forces 
<verbatim>ediff</verbatim> to use only one
<!-- 
 -->    frame.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">ediff-window-setup-function</span> <span class="ss">'ediff-setup-windows-plain</span><span class="p">)</span>
</pre></div>
<p>    Now, the control window will be a small window instead of a
    separate frame.
</p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Magit</h4><p>    
<a href="info:magit#Top">Magit</a> is a git interface for Emacs.
<!-- 
 --></p><p>    Here I set a global key for 
<code>magit-status
</code>. Think 'G' looks
<!-- 
 -->    like 6.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f6&gt;&quot;</span><span class="p">)</span> <span class="ss">'magit-status</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Powerline</h4><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">powerline-default-separator</span> <span class="ss">'slant</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">powerline-default-theme</span><span class="p">)</span>
</pre></div>
</section><section class="hsec4"><h4>Global Keys</h4><p></p><section class="hsec5"><h5>Edit This file</h5><p>     When I hit 
<code><f5>
</f5></code>, open this file for editing.  That way, any
<!-- 
 -->     time I have something I need to remember for my emacs setting, it
     is just a button-push away.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f5&gt;&quot;</span><span class="p">)</span>
                  <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span>
                    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
                    <span class="p">(</span><span class="nv">find-file</span> <span class="s">&quot;~/.emacs.d/bnb-emacs/Readme.org&quot;</span><span class="p">)))</span>
</pre></div>
<p></p><p></p><p></p></section></section><section class="hsec4"><h4>Sounds</h4><p>    I dislike the bell ringing when I hit 
<verbatim>C-g</verbatim>. To silence the bell,
<!-- 
 -->    just set the 
<verbatim>ring-bell-function</verbatim> to 
<verbatim>nil</verbatim>.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">visual-bell</span> <span class="no">nil</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">ring-bell-function</span> <span class="o">`</span><span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="no">nil</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Midnight Mode</h4><p>    This mode looks at midnight to see if any buffers have been unused
    and kills them. By default, 
<em>inactive
</em> means it hasn't been touched
<!-- 
 -->    for three days.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">require</span> <span class="ss">'midnight</span><span class="p">)</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Guide Key</h4><p>    Provide a guide for long (and easy to forget) key sequences.  The
    prefixes below, such as 
<verbatim>C-x r</verbatim>, have many options that can
<!-- 
 -->    follow.  This mode helpfully shows what options are available in a
    small bottom window.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">require</span> <span class="ss">'guide-key</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">guide-key/guide-key-sequence</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;C-x r&quot;</span> <span class="s">&quot;C-x 4&quot;</span> <span class="s">&quot;C-x v&quot;</span> <span class="s">&quot;C-x 8&quot;</span> <span class="s">&quot;C-x x&quot;</span><span class="p">))</span>
  <span class="p">(</span><span class="nv">guide-key-mode</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">guide-key/recursive-key-sequence-flag</span> <span class="no">t</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">guide-key/popup-window-position</span> <span class="ss">'bottom</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Perspective mode</h4><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">persp-mode</span> <span class="no">t</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">defmacro</span> <span class="nv">custom-persp</span> <span class="p">(</span><span class="nv">name</span> <span class="k">&amp;rest</span> <span class="nv">body</span><span class="p">)</span>
    <span class="o">`</span><span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">initialize</span> <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nb">gethash</span> <span class="o">,</span><span class="nv">name</span> <span class="nv">perspectives-hash</span><span class="p">)))</span>
           <span class="p">(</span><span class="nv">current-perspective</span> <span class="nv">persp-curr</span><span class="p">))</span>
       <span class="p">(</span><span class="nv">persp-switch</span> <span class="o">,</span><span class="nv">name</span><span class="p">)</span>
       <span class="p">(</span><span class="nb">when</span> <span class="nv">initialize</span> <span class="o">,@</span><span class="nv">body</span><span class="p">)</span>
       <span class="p">(</span><span class="k">setq</span> <span class="nv">persp-last</span> <span class="nv">current-perspective</span><span class="p">)))</span>

  <span class="p">(</span><span class="nb">defun</span> <span class="nv">custom-persp-last</span> <span class="p">()</span>
    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">persp-switch</span> <span class="p">(</span><span class="nv">persp-name</span> <span class="nv">persp-last</span><span class="p">)))</span>

  <span class="p">(</span><span class="nv">define-key</span> <span class="nv">persp-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-x x -&quot;</span><span class="p">)</span> <span class="ss">'custom-persp-last</span><span class="p">)</span>
</pre></div>
<p>    Now, add some custom perspectives for emacs or orgmode
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/persp/emacs</span> <span class="p">()</span>
    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">custom-persp</span> <span class="s">&quot;emacs&quot;</span>
                  <span class="p">(</span><span class="nv">find-file</span> <span class="s">&quot;~/.emacs.d/bnb-emacs/Readme.org&quot;</span><span class="p">)))</span>
  <span class="p">(</span><span class="nv">define-key</span> <span class="nv">persp-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-x x e&quot;</span><span class="p">)</span> <span class="ss">'bnb/persp/emacs</span><span class="p">)</span>

  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/persp/org</span> <span class="p">()</span>
    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">custom-persp</span> <span class="s">&quot;@org&quot;</span>
                  <span class="p">(</span><span class="nb">mapcar</span> <span class="ss">'find-file</span> <span class="nv">org-agenda-files</span><span class="p">)))</span>
  <span class="p">(</span><span class="nv">define-key</span> <span class="nv">persp-mode-map</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-x x o&quot;</span><span class="p">)</span> <span class="ss">'bnb/persp/org</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section></section><section class="hsec3"><h3>BNB Helpers</h3><p>   This is a collection of code specific to how I use emacs.  Some
   are from different websites or other Emacs users.
</p><p></p><p></p><section class="hsec4"><h4>Exit behavior</h4><p>    Instead of exiting emacs, I prefer to leave it running and only
    minimize (iconize) it. Especially since I use 
<verbatim>server</verbatim> with emacs,
<!-- 
 -->    it is advantageous to not kill my session by accident
    (muscle-memory). This idea is from 
<a href="http://emacs-fu.blogspot.com/2009/03/windows-and-daemons.html">Emacs-Fu</a>.
<!-- 
 --></p><p>    To accomplish this, I advise the 
<verbatim>kill-emacs</verbatim> function. But first,
<!-- 
 -->    I need to have some pieces in place to perform some functionality
    if a killing operation is triggered (keystrokes, button presses,
    etc).
</p><p>    I create a variable, 
<verbatim>bnb/kill-emacs-hooks</verbatim>, for functions that
<!-- 
 -->    need to run before emacs is 
<em>killed
</em>.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">defvar</span> <span class="nv">bnb/kill-emacs-hooks</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'bnb/kill-emacs-hooks</span>
            <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">functionp</span> <span class="ss">'server-edit</span><span class="p">)(</span><span class="nv">server-edit</span><span class="p">))))</span>
</pre></div>
<p>    In the hook above, I call the 
<verbatim>server-edit</verbatim> function to act as if
<!-- 
 -->    I am closing emacs for a file opened via the server API. This has
    the effect of providing an illusion of opening the editor on a
    specific file and then closing it with normal keypresses.
</p><p>    Next, I provide a flag and a function to set the flag if emacs is
    to really exit. We always need an escape hatch.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">defvar</span> <span class="nv">bnb/really-kill-emacs</span> <span class="no">nil</span><span class="p">)</span>
<span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/kill-emacs</span> <span class="p">()</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">bnb/really-kill-emacs</span> <span class="no">t</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">kill-emacs</span><span class="p">))</span>
</pre></div>
<p>    Now that mechanism is in place, it is time to augment
    
<verbatim>kill-emacs</verbatim> with some advice around the function.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">defadvice</span> <span class="nv">kill-emacs</span> <span class="p">(</span><span class="nv">around</span> <span class="nv">bnb/pardon-emacs</span> <span class="nv">activate</span><span class="p">)</span>
    <span class="s">&quot;Only kill emacs if a prefix is set&quot;</span>
    <span class="p">(</span><span class="nv">run-hooks</span> <span class="ss">'bnb/kill-emacs-hooks</span><span class="p">)</span>
    <span class="p">(</span><span class="k">if</span> <span class="nv">bnb/really-kill-emacs</span>
        <span class="nv">ad-do-it</span>
      <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">system-type</span> <span class="ss">'windows-nt</span><span class="p">)</span>
        <span class="p">(</span><span class="nv">iconify-frame</span><span class="p">))))</span>
</pre></div>
<p>    Now, when any event triggers a call to 
<verbatim>kill-emacs</verbatim>, a small set
<!-- 
 -->    of activities happen. First, the 
<verbatim>bnb/kill-emacs-hooks</verbatim> are run
<!-- 
 -->    performing their jobs. Next, the flag for 
<em>really
</em> exiting is
<!-- 
 -->    checked and then the proper 
<verbatim>kill-emacs</verbatim> is called if
<!-- 
 -->    true. Otherwise, no flag is set and emacs is simply iconified.
</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Fullscreen</h4><p>    To make emacs go fullscreen on windows, a helper program is
    needed. This is found online at bitbucket.
</p><p>    
<a href="https://bitbucket.org/alexander_manenko/emacs-fullscreen-win32/wiki/Home">https://bitbucket.org/alexander_manenko/emacs-fullscreen-win32/wiki/Home</a></p><p>    I use Alexander's recommended settings.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/toggle-full-screen</span> <span class="p">()</span> <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span> <span class="p">(</span><span class="nv">shell-command</span> <span class="s">&quot;emacs_fullscreen.exe&quot;</span><span class="p">))</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f11&gt; &lt;f11&gt;&quot;</span><span class="p">)</span> <span class="ss">'bnb/toggle-full-screen</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Workweeks</h4><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/workweek</span> <span class="p">()</span>
    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">now</span> <span class="p">(</span><span class="nv">current-time</span><span class="p">))</span>
           <span class="p">(</span><span class="nv">weeks</span> <span class="p">(</span><span class="nv">string-to-number</span>
                   <span class="p">(</span><span class="nv">format-time-string</span> <span class="s">&quot;%W&quot;</span> <span class="nv">now</span><span class="p">)))</span>
           <span class="p">(</span><span class="nv">days</span> <span class="p">(</span><span class="nv">time-to-day-in-year</span> <span class="nv">now</span><span class="p">))</span>
           <span class="p">(</span><span class="nv">daynum</span> <span class="p">(</span><span class="nv">string-to-number</span>
                    <span class="p">(</span><span class="nv">format-time-string</span> <span class="s">&quot;%w&quot;</span> <span class="nv">now</span><span class="p">)))</span>
           <span class="p">(</span><span class="nv">left</span> <span class="p">(</span><span class="nv">%</span> <span class="nv">days</span> <span class="mi">7</span><span class="p">)))</span>
      <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nb">=</span> <span class="mi">0</span> <span class="nv">daynum</span><span class="p">)</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">left</span> <span class="mi">0</span><span class="p">))</span>
          <span class="nv">weeks</span>
        <span class="p">(</span><span class="nb">+</span> <span class="mi">1</span> <span class="nv">weeks</span><span class="p">))))</span>

  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/workweek-string</span> <span class="p">()</span>
    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">concat</span> <span class="s">&quot;WW&quot;</span>
            <span class="p">(</span><span class="nv">number-to-string</span>
             <span class="p">(</span><span class="nv">bnb/workweek</span><span class="p">))))</span>
</pre></div>
<p></p><p></p></section></section><section class="hsec3"><h3>Dired</h3><p>   So, I used 
<verbatim>dired+</verbatim> instead of the regular dired. It offers more
<!-- 
 -->   interesting colors and more flexible ways to mark files.
</p><p>   For example, to mark by extension, press 
<verbatim>*.</verbatim>, then type the
<!-- 
 -->   extension (with dot).
</p><p>   The 
<verbatim>dired-find-alternate-file</verbatim> command is disabled by default, so
<!-- 
 -->   I force it to be enabled here. It lets my just type 
<verbatim>a</verbatim> to replace
<!-- 
 -->   the current buffer and reduces the accumulating dired buffers.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nv">package-installed-p</span> <span class="ss">'dired+</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">package-install</span> <span class="ss">'dired+</span><span class="p">))</span>
  <span class="p">(</span><span class="nv">put</span> <span class="ss">'dired-find-alternate-file</span> <span class="ss">'disabled</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec3"><h3>Smart Tabs</h3><p>   
<a href="http://www.emacswiki.org/emacs-en/SmartTabs">SmartTabs</a> try to do the right thing regarding tabs/spaces in
<!-- 
 -->   indentation/alignment. It is installed through the package interface. Look for
   
<verbatim>smart-tabs-mode</verbatim>.
<!-- 
 --></p><p>    By default, I'm enabling it in all modes that I can.
</p><p>    Since we are dealing with tabs here, I also take the time to set
    the default width to 4.  This can be set to something different to get a
    new effect with 
<verbatim>smart-tabs-mode</verbatim> since alignment is handled correctly.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">setq-default</span> <span class="nv">indent-tabs-mode</span> <span class="no">nil</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">smart-tabs-insinuate</span> <span class="ss">'c</span> <span class="ss">'javascript</span> <span class="ss">'python</span> <span class="ss">'cperl</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">setq-default</span> <span class="nv">tab-width</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><section class="hsec4"><h4>Notes</h4><p>    To retab the whole file, use 
<verbatim>C-x h C-M-\</verbatim>.
<!-- 
 --></p><p></p><p></p></section></section><section class="hsec3"><h3>CUA mode</h3><p>   
<a href="info:emacs#CUA%20Bindings">CUA</a> has a primary feature of enabling cut, copy, paste and undo
<!-- 
 -->   shortcuts compatible with many applications (C-x, C-c,
   C-v). However, it also has interesting rectangle features and
   
<strong>that
</strong> is why I enable it. I also happen to turn off those other
<!-- 
 -->   bindings and prefer the emacs defaults.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">cua-mode</span> <span class="no">t</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">cua-enable-cua-keys</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><section class="hsec4"><h4>Bindings   </h4><p></p><section class="hsec5"><h5>CUA Rectangles</h5><p>    These take place with an active rectangle. To start/cancel a
    rectangle use 
<verbatim>C-RET</verbatim>.
<!-- 
 --></p><p></p><table><tbody><tr><th>Keys
</th><th>Function
</th></tr><tr><td>M-<arrow>
</arrow></td><td>Move rectangle overlay
</td></tr><tr><td>C-SPACE
</td><td>Activate region bounded by rectangle
</td></tr><tr><td>M-a
</td><td>Align all words at the left edge
</td></tr><tr><td>M-b
</td><td>Fill rectangle with blanks (tabs and spaces)
</td></tr><tr><td>M-c
</td><td>Closes the rectangle by removing left edge blanks
</td></tr><tr><td>M-f
</td><td>Fills the rectangle with a single character (prompt)
</td></tr><tr><td>M-i
</td><td>Increases number found on each line of rectangle
</td></tr><tr><td>M-k
</td><td>Kills the rectangle as normal multi-line kill
</td></tr><tr><td>M-l
</td><td>Downcases the rectangle
</td></tr><tr><td>M-m
</td><td>Copies the rectangle for normal multi-line paste
</td></tr><tr><td>M-n
</td><td>Filles each line with increasing numbers (prompt)
</td></tr><tr><td>M-o
</td><td>Opens the rect by moving hilighted text right and filling with blanks
</td></tr><tr><td>M-p
</td><td>Toggles virtual straight rectangle edges
</td></tr><tr><td>M-P
</td><td>Inserts tabs and spaces to make real straight edges
</td></tr><tr><td>M-q
</td><td>Performs text filling on the rectangle
</td></tr><tr><td>M-q
</td><td>Performs text filling on the rectangle
</td></tr><tr><td>M-r
</td><td>Replaces REGEXP (prompt) by STRING (prompt) in rectangle
</td></tr><tr><td>M-R
</td><td>Reverse the lines in the rectangle
</td></tr><tr><td>M-s
</td><td>Fills each line of the rectangle with the same STRING (prompt)
</td></tr><tr><td>M-t
</td><td>Performs text fill of the rectangle with TEXT (prompt)
</td></tr><tr><td>M-u
</td><td>Upcases the rectangle
</td></tr><tr><td>M-<vertical bar="">
</vertical></td><td>Runs shell command on rectangle
</td></tr><tr><td>M-'
</td><td>Restricts rectangle to lines with CHAR (prompt) at left column
</td></tr><tr><td>M-/
</td><td>Restricts rectangle to lines matching REGEXP (prompt)
</td></tr><tr><td>C-?
</td><td>Shows a brief list of the above commands.
</td></tr><tr><td>M-C-<up own="">
</up></td><td>Scrolls the lines INSIDE the rectangle up/down
</td></tr></tbody></table><p></p><p></p><p></p></section><section class="hsec5"><h5>CUA Global Mark</h5><p>     The global mark feature enables a target the receives any
     typed
<em>copied
</em>killed text from any buffer (even the current one).
<!-- 
 --></p><p></p><table><tbody><tr><th>Key
</th><th>function
</th></tr><tr><td><ch>
</ch></td><td>All characters (including newlines) you type are inserted at the global mark!
</td></tr><tr><td>C-x
</td><td>If you cut a region or rectangle, it is automatically inserted at the global mark, and the global mark is advanced.
</td></tr><tr><td>C-c
</td><td>If you copy a region or rectangle, it is immediately inserted  at the global mark, and the global mark is advanced.
</td></tr><tr><td>C-v
</td><td>Copies a single character to the global mark.
</td></tr><tr><td>C-d
</td><td>Moves (i.e. deletes and inserts) a single character to the global mark.
</td></tr><tr><td>backspace
</td><td>deletes the character before the global mark
</td></tr><tr><td>delete
</td><td>deletes the character after the global mark.
</td></tr><tr><td>S-C-space
</td><td>Jumps to and cancels the global mark.
</td></tr><tr><td>C-u S-C-space
</td><td>Cancels the global mark (stays in current buffer).
</td></tr><tr><td>TAB
</td><td>Indents the current line or rectangle to the column of the global mark.
</td></tr></tbody></table><p></p><p></p><p></p><p></p><p></p></section></section></section><section class="hsec3"><h3>Cider</h3><p>   Cider will make a nREPL available for Clojure programming. The
   configuaration snippets here are from the
   
<a href="https://github.com/clojure-emacs/cider">project page on github</a>.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="c1">;; Enable eldoc</span>
  <span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'cider-mode-hook</span> <span class="ss">'cider-turn-on-eldoc-mode</span><span class="p">)</span>
  
  <span class="c1">;; Hide special buffers</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">nrepl-hide-special-buffers</span> <span class="no">t</span><span class="p">)</span>
  
  <span class="c1">;; Stop the error from popping up while working in buffers other than the REPL</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">cider-popup-stacktraces</span> <span class="no">nil</span><span class="p">)</span>
  
  <span class="c1">;; Stop prompting to save file when killing repl buffer</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">cider-prompt-save-file-on-load</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec3"><h3>IDO (Interactively Do Things)</h3><p>   I do not believe I could live without this on emacs. Even for just
   finding files, it is awesome.
</p><p>   First, I start with some basic IDO settings. I enabled it
   everywhere so that it will work in all contexts. I like flex
   matching so I also turn that feature on. Finally,
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">ido-everywhere</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">ido-enable-flex-matching</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">ido-create-new-buffer</span> <span class="ss">'always</span><span class="p">)</span>
</pre></div>
<p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">ido-file-extensions-order</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;.org&quot;</span> <span class="s">&quot;.tex&quot;</span> <span class="s">&quot;.el&quot;</span> <span class="s">&quot;.txt&quot;</span> <span class="s">&quot;.c&quot;</span> <span class="s">&quot;.cpp&quot;</span> <span class="s">&quot;.h&quot;</span> <span class="s">&quot;.clj&quot;</span><span class="p">))</span>
</pre></div>
<p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">ido-mode</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><section class="hsec4"><h4>Keystrokes</h4><p></p><table><tbody><tr><th>Keystroke
</th><th>Operates on
</th><th>Description
</th></tr><tr><td>C-b
</td><td>Buffers
</td><td>Reverts to the old switch-buffer
</td></tr><tr><td>C-f
</td><td>Files
</td><td>Reverts to the old find-file
</td></tr><tr><td>C-d
</td><td>Dirs/Files
</td><td>Opens a dired buffer in current dir
</td></tr><tr><td>C-a
</td><td>Files/Buffers
</td><td>Toggles showing ignored files
</td></tr><tr><td>C-c
</td><td>Buffers/Dirs/Files
</td><td>Toggles ignore case for names
</td></tr><tr><td>TAB
</td><td>Buffers/Dirs/Files
</td><td>Attempt to complete input
</td></tr><tr><td>C-p
</td><td>Files
</td><td>Toggles prefix matching
</td></tr><tr><td>C-s/C-r
</td><td>All
</td><td>Moves to next/previous match
</td></tr><tr><td>C-t
</td><td>All
</td><td>Toggles matching Emacs Regexp
</td></tr><tr><td>Backspace
</td><td>All
</td><td>Deletes chars or up directory
</td></tr><tr><td>C-SPC/C-@
</td><td>All
</td><td>Restricts completion list
</td></tr><tr><td>//
</td><td>Dirs/Files
</td><td>Ignore preceding path
</td></tr><tr><td>~/
</td><td>Dirs/Files
</td><td>Jump to home directory
</td></tr><tr><td>M-d
</td><td>Files
</td><td>Searches for input in cwd sub-dirs
</td></tr><tr><td>C-k
</td><td>Buffers/Files
</td><td>Kills focused buffer or deletes file
</td></tr><tr><td>M-m
</td><td>Files
</td><td>Creates a new sub-dir to cwd
</td></tr><tr><td>M-n/M-p
</td><td>Dirs/Files
</td><td>Cycles through next/previous work dirs
</td></tr><tr><td>M-k
</td><td>Dirs/Files
</td><td>Kills active work dir from list
</td></tr><tr><td>M-s M-s
</td><td>Dirs/Files
</td><td>Search list of work dirs for input
</td></tr></tbody></table><p></p><p></p></section></section><section class="hsec3"><h3>Shells</h3><p>   There are two useful shells in emacs: 
<verbatim>eshell</verbatim> and
<!-- 
 -->   
<verbatim>ansi-term</verbatim>.
<!-- 
 --></p><p></p><p></p><section class="hsec4"><h4>Eshell</h4><p>    Eshell can provide a shell that works the same on windows or
    GNU/Linux. One of the really cool features is that you can define
    commands to use (like aliases) within the shell and have them
    directly integrate with emacs.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">eshell/emacs</span> <span class="p">(</span><span class="k">&amp;rest</span> <span class="nv">args</span><span class="p">)</span>
  <span class="s">&quot;Open a file in emacs the natural way&quot;</span>
  <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">null</span> <span class="nv">args</span><span class="p">)</span>
      <span class="c1">;; If emacs is called by itself, then just go to emacs directly</span>
      <span class="p">(</span><span class="nv">bury-buffer</span><span class="p">)</span>
    <span class="c1">;; If opening multiple files with a directory name, e.g.</span>
    <span class="c1">;; &gt; emacs bar/bar.txt foo.txt</span>
    <span class="c1">;; then the names must be expanded to complete file paths.</span>
    <span class="c1">;; Otherwise, find-file will look in the current directory which</span>
    <span class="c1">;; would fail for 'foo.txt' in the example above.</span>
    <span class="p">(</span><span class="nb">mapc</span> <span class="nf">#'</span><span class="nv">find-file</span> <span class="p">(</span><span class="nb">mapcar</span> <span class="nf">#'</span><span class="nv">expand-file-name</span> <span class="p">(</span><span class="nv">eshell-flatten-list</span> <span class="p">(</span><span class="nb">reverse</span> <span class="nv">args</span><span class="p">))))))</span>
</pre></div>
<p></p><p></p><p></p></section></section><section class="hsec3"><h3>AucTeX</h3><p>   
<a href="info:AUCTeX">AUCTeX Manual</a></p><p>   Superb handling of TeX documents.
</p><p></p><p></p><p></p><section class="hsec4"><h4>RefTeX</h4><p>    
<a href="info:RefTeX">RefTeX Manual</a></p><p>    RefTeX provides navigation, easy references, easy citations and
    integrates well into AUCTeX.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'turn-on-reftex</span><span class="p">)</span>
</pre></div>
<p></p><table><tbody><tr><th>Keystroke
</th><th>Function
</th></tr><tr><td>C-c =
</td><td>Show TOC and jump to sections
</td></tr><tr><td>C-c (
</td><td>Insert a label
</td></tr><tr><td>C-c )
</td><td>Reference a label
</td></tr><tr><td>C-c [
</td><td>Insert a citation (from BibTex db)
</td></tr><tr><td>C-c &lt;
</td><td>Index entry
</td></tr><tr><td>C-c &gt;
</td><td>View index
</td></tr><tr><td>C-c &amp;
</td><td>View crossref
</td></tr></tbody></table><p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Hooks</h4><div class="highlight"><pre><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'flyspell-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'LaTeX-math-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'auto-fill-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'LaTeX-mode-hook</span> <span class="ss">'orgtbl-mode</span><span class="p">)</span>
</pre></div>
<p></p></section><section class="hsec4"><h4>TeX Settings</h4><p>    Here are some nice features to have enabled.  Parse-self and
    auto-save will parse the file on load and save
    respectively. Untabify will remove tabs (real ones) before saving.
</p><p>    I also have a default of 
<verbatim>TeX-master</verbatim> set to 
<verbatim>nil</verbatim>. I used to have
<!-- 
 -->    it set to &quot;master&quot; as recommended in the documentation, but I had
    bad results for LaTeX files generated on the fly.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-auto-untabify</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-auto-save</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-parse-self</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="nv">setq-default</span> <span class="nv">TeX-master</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p>    For viewing the output, I can specify the command to use on the
    files generated in the process. However, the programs differ on
    GNU/Linux and Windows, so I have differing settings below.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-output-view-style</span>
        <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">system-type</span> <span class="ss">'windows-nt</span><span class="p">)</span>
            <span class="p">(</span><span class="k">quote</span>
             <span class="p">((</span><span class="s">&quot;^pdf$&quot;</span> <span class="s">&quot;.&quot;</span> <span class="s">&quot;SumatraPDF.exe -reuse-instance %o&quot;</span><span class="p">)</span>
              <span class="p">(</span><span class="s">&quot;^html?$&quot;</span> <span class="s">&quot;.&quot;</span> <span class="s">&quot;start %o&quot;</span><span class="p">)))</span>
        <span class="p">(</span><span class="k">quote</span>
         <span class="p">((</span><span class="s">&quot;^pdf$&quot;</span> <span class="s">&quot;.&quot;</span> <span class="s">&quot;evince -f %o&quot;</span><span class="p">)</span>
          <span class="p">(</span><span class="s">&quot;^html?$&quot;</span> <span class="s">&quot;.&quot;</span> <span class="s">&quot;start %o&quot;</span><span class="p">)))))</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>XeTeX settings</h4><p>    To get more beautiful fonts, I use the XeTeX processor. I also
    use this in PDF mode.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-PDF-mode</span> <span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">TeX-engine</span> <span class="ss">'xetex</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section></section><section class="hsec3"><h3>Orgmode</h3><p>   The one feature I cannot do without. Let's set up some features.
</p><p></p><p></p><section class="hsec4"><h4>Auto mode</h4><p>    I add gpg and _archive to the list of known org files. These two
    alternative extensions are used for either encrypted org files
    (
<verbatim>.org.gpg</verbatim>) or for archives (
<verbatim>.org_archive</verbatim>).
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'auto-mode-alist</span>
               <span class="o">'</span><span class="p">(</span><span class="s">&quot;\\.org\\(.gpg|_archive\\)?$&quot;</span> <span class="o">.</span> <span class="nv">org-mode</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec4"><h4>Hooks</h4><p>    First, I add in a keystroke to toggle the inline images.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'org-mode-hook</span>
           <span class="p">(</span><span class="k">lambda</span> <span class="p">()</span>
             <span class="p">(</span><span class="nv">local-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;M-i&quot;</span><span class="p">)</span> <span class="ss">'org-toggle-inline-images</span><span class="p">)))</span>
</pre></div>
<p>    The next hook just saves the org files opened before exiting
    emacs -- just in case.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'bnb/kill-emacs-hooks</span> <span class="ss">'org-save-all-org-buffers</span> <span class="ss">'append</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Keys</h4><p></p><section class="hsec5"><h5>Global</h5><p>     Some org-mode features are so useful that I need to have them be
     available globally.
</p><p></p><ul><li>orgtbl-mode
       Use orgtbl in other modes
       
Use orgtbl in other modes
       Store a link (context-aware) to the current location
       
Store a link (context-aware) to the current location
       Launch the agenda
       
Launch the agenda
       Capture a task/note
       
Capture a task/note
       Switch org buffers
       
Switch org buffers
       Show the file as-is (no special org handling)
       
Show the file as-is (no special org handling)
       Clock in/out of current subtree
       
Clock in/out of current subtree
       Go to current/previous clocked task
       
Go to current/previous clocked task
</li><li>org-store-link
</li><li>org-agenda
</li><li>org-capture
</li><li>org-iswitchb
</li><li>visible-mode
</li><li>org-clock-in/org-clock-out
</li><li>org-clock-goto
</li></ul><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-c t&quot;</span><span class="p">)</span> <span class="ss">'orgtbl-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="s">&quot;\C-cl&quot;</span> <span class="ss">'org-store-link</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="s">&quot;\C-cr&quot;</span> <span class="ss">'org-capture</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="s">&quot;\C-cb&quot;</span> <span class="ss">'org-iswitchb</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f12&gt;&quot;</span><span class="p">)</span> <span class="ss">'org-agenda</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;apps&gt;&quot;</span><span class="p">)</span> <span class="ss">'org-agenda</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f9&gt; v&quot;</span><span class="p">)</span> <span class="ss">'visible-mode</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f9&gt; i&quot;</span><span class="p">)</span> <span class="ss">'org-clock-in</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f9&gt; o&quot;</span><span class="p">)</span> <span class="ss">'org-clock-out</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f11&gt; i&quot;</span><span class="p">)</span> <span class="ss">'org-clock-in</span><span class="p">)</span>
<span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;&lt;f11&gt; g&quot;</span><span class="p">)</span> <span class="ss">'org-clock-goto</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Speed</h5><p>     Using org-mode efficiently for task management is best done with
     speed keys. This are in effect when the cursor is on the first 
<verbatim>*</verbatim>     of a headline. And they come with an easy cheat-sheet by typing
     
<verbatim>?</verbatim>. I enable this feature and add some of my own commands.
<!-- 
 --></p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-use-speed-commands</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-speed-commands-user</span> <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">&quot;0&quot;</span> <span class="o">.</span> <span class="nv">delete-window</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;1&quot;</span> <span class="o">.</span> <span class="nv">delete-other-windows</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;2&quot;</span> <span class="o">.</span> <span class="nv">split-window-vertically</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;3&quot;</span> <span class="o">.</span> <span class="nv">split-window-horizontally</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;h&quot;</span> <span class="o">.</span> <span class="nv">hide-other</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;R&quot;</span> <span class="o">.</span> <span class="nv">org-reveal</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;s&quot;</span> <span class="o">.</span> <span class="nv">org-save-all-org-buffers</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;z&quot;</span> <span class="o">.</span> <span class="nv">org-add-note</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;N&quot;</span> <span class="o">.</span> <span class="nv">org-narrow-to-subtree</span><span class="p">)</span>
				      <span class="p">(</span><span class="s">&quot;W&quot;</span> <span class="o">.</span> <span class="nv">widen</span><span class="p">))))</span>
</pre></div>
<p></p><p></p><p></p></section></section><section class="hsec4"><h4>Org TODO Configuration</h4><p>    This is the meat of what Org can do. Keeping track of todo items
    with due dates, tags, etc. is really powerful. And I get to
    customize it to suit my needs and my workflow.
</p><p></p><p></p><section class="hsec5"><h5>Keywords</h5><p>      The keywords that org uses in the headlines exist as sequences
      describing the state changes. The characters in 
<verbatim>()</verbatim> also allow
<!-- 
 -->      fast access to these states described 
<a href="info:org#Fast%20access%20to%20TODO%20states">here</a>.
<!-- 
 --></p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-todo-keywords</span>
      <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="nc">sequence</span> <span class="s">&quot;TODO(t)&quot;</span> <span class="s">&quot;NEXT(n)&quot;</span> <span class="s">&quot;|&quot;</span> <span class="s">&quot;DONE(d!/!)&quot;</span><span class="p">)</span>
	      <span class="p">(</span><span class="nc">sequence</span> <span class="s">&quot;WAITING(w@/!)&quot;</span> <span class="s">&quot;SOMEDAY(s!)&quot;</span> <span class="s">&quot;|&quot;</span> <span class="s">&quot;CANCELED(c@/!)&quot;</span><span class="p">)</span>
	      <span class="p">(</span><span class="nc">sequence</span> <span class="s">&quot;OPEN(O)&quot;</span> <span class="s">&quot;|&quot;</span> <span class="s">&quot;CLOSED(C)&quot;</span><span class="p">))))</span>
</pre></div>
<p>      Also, the keywords can be specifically colored to help the eye
      infer meaning quickly.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-todo-keyword-faces</span> <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">&quot;TODO&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;red&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;NEXT&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;blue&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;DONE&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;forest green&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;WAITING&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;yellow&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;SOMEDAY&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;goldenrod&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;CANCELED&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;orangered&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;OPEN&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;magenta&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">)</span>
 <span class="p">(</span><span class="s">&quot;CLOSED&quot;</span> <span class="ss">:foreground</span> <span class="s">&quot;forest green&quot;</span> <span class="ss">:weight</span> <span class="nv">bold</span><span class="p">))))</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Tags</h5><p>      Org uses tags on headlines for organization. I don't currently
      use them much. I organize mainly by file with a file tag
      specified via 
<a href="info:org#In-buffer%20settings">in-buffer settings</a> (
<verbatim>#+FILETAGS</verbatim>).
<!-- 
 --><!-- 
 --></p><p>      However, a global tag list provides a selection list for the
      tagging interface. I use 'project' as my tag to easily
      differentiate simple tasks from more complex ones.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-tag-alist</span> <span class="o">'</span><span class="p">((</span><span class="s">&quot;PROJECT&quot;</span> <span class="o">.</span> <span class="nv">?p</span><span class="p">)))</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Mechanics</h5><p>      The todo interface allows easy selection of states and triggers
      on certain states to store notes.
</p><p>      Instead of cycling through states (and possibly triggering log
      entries), I prefer fast entry to jump right to the correct
      state. I also turn off the S-cursor transitions as state
      changes to avoid the logging prompts.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-use-fast-todo-selection</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-treat-S-cursor-todo-selection-as-state-change</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p>      Upon changing the state of todo items, I can automatically
      add/remove tags with the following list. It's a bit lispy, but
      describes what happens upon entry in the specified state. The
      state named as a string has tuples of tags and flags. 't'
      indicates to set the flag, empty means to remove it.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-todo-state-tags-triggers</span>
      <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">&quot;CANCELED&quot;</span>
               <span class="p">(</span><span class="s">&quot;CANCELED&quot;</span> <span class="o">.</span> <span class="no">t</span><span class="p">))</span>
              <span class="p">(</span><span class="s">&quot;WAITING&quot;</span>
               <span class="p">(</span><span class="s">&quot;WAITING&quot;</span> <span class="o">.</span> <span class="no">t</span><span class="p">))</span>
              <span class="p">(</span><span class="s">&quot;SOMEDAY&quot;</span>
               <span class="p">(</span><span class="s">&quot;SOMEDAY&quot;</span> <span class="o">.</span> <span class="no">t</span><span class="p">))</span>
              <span class="p">(</span><span class="nv">done</span>
               <span class="p">(</span><span class="s">&quot;WAITING&quot;</span><span class="p">))</span>
              <span class="p">(</span><span class="s">&quot;TODO&quot;</span>
               <span class="p">(</span><span class="s">&quot;WAITING&quot;</span><span class="p">)</span>
               <span class="p">(</span><span class="s">&quot;CANCELED&quot;</span><span class="p">))</span>
              <span class="p">(</span><span class="s">&quot;NEXT&quot;</span>
               <span class="p">(</span><span class="s">&quot;WAITING&quot;</span><span class="p">))</span>
              <span class="p">(</span><span class="s">&quot;DONE&quot;</span>
               <span class="p">(</span><span class="s">&quot;WAITING&quot;</span><span class="p">)</span>
               <span class="p">(</span><span class="s">&quot;CANCELED&quot;</span><span class="p">)))))</span>
</pre></div>
<p>      Along with tags and states are priorities. I do not use task
      priorities myself so I turn them off.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-enable-priority-commands</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><section class="hsec6"><h6>Logging</h6><p>      Org allows logging of states. I turn this on to prompt myself
      for reasons behind specific state changes. There is also a
      setting to set a different drawer for clocking and logs.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-log-done</span> <span class="p">(</span><span class="k">quote</span> <span class="nv">note</span><span class="p">))</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-log-into-drawer</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-drawers</span> <span class="o">'</span><span class="p">(</span><span class="s">&quot;PROPERTIES&quot;</span> <span class="s">&quot;LOGBOOK&quot;</span> <span class="s">&quot;CLOCK&quot;</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec6"><h6>Sub-tasks</h6><p>       Naturally, some tasks are projects composed of smaller
       sub-tasks. Org allows for this as well. I like to enforce the
       dependencies of regular todo items and plain checkbox
       lists. In this way, the overall item cannot change to done
       without the completion of the sub-tasks.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-enforce-todo-checkbox-dependencies</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-enforce-todo-dependencies</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p>       Because of the previous enforcement of state, I can also
       automatically infer when a parent state is complete. The
       following code marks the parent complete once the sub-tasks
       are all done.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">org-summary-todo</span> <span class="p">(</span><span class="nv">n-done</span> <span class="nv">n-not-done</span><span class="p">)</span>
  <span class="s">&quot;Switch entry to DONE when all sub-entries are done, to TODO otherwise.&quot;</span>
  <span class="p">(</span><span class="k">let</span> <span class="p">(</span><span class="nv">org-log-done</span> <span class="nv">org-log-states</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">org-todo</span> <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">=</span> <span class="nv">n-not-done</span> <span class="mi">0</span><span class="p">)</span> <span class="s">&quot;DONE&quot;</span> <span class="s">&quot;TODO&quot;</span><span class="p">))))</span>
<span class="p">(</span><span class="nv">add-hook</span> <span class="ss">'org-after-todo-statistics-hook</span> <span class="ss">'org-summary-todo</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section></section></section><section class="hsec4"><h4>Capture</h4><p>    
<a href="info:org#Capture">Capturing</a> is crucial to a task system and in this vein, org is no
<!-- 
 -->    slouch. The capture templates define what get captures, where it
    goes, and what the user needs to type.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-capture-templates</span>
        <span class="o">'</span><span class="p">((</span><span class="s">&quot;t&quot;</span> <span class="s">&quot;Todo&quot;</span> <span class="nv">entry</span>
       <span class="p">(</span><span class="nv">file</span> <span class="s">&quot;~/Documents/Org/Refile.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* TODO %?\n  %U\n&quot;</span> <span class="ss">:clock-in</span> <span class="no">t</span> <span class="ss">:clock-resume</span> <span class="no">t</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;r&quot;</span> <span class="s">&quot;todo (Remember location)&quot;</span> <span class="nv">entry</span>
       <span class="p">(</span><span class="nv">file</span> <span class="s">&quot;~/Documents/Org/Refile.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* TODO %?\n  %U\n  %a&quot;</span> <span class="ss">:clock-in</span> <span class="no">t</span> <span class="ss">:clock-resume</span> <span class="no">t</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;n&quot;</span> <span class="s">&quot;Note&quot;</span> <span class="nv">entry</span>
       <span class="p">(</span><span class="nv">file</span> <span class="s">&quot;~/Documents/Org/Refile.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* %?                                                                            :NOTE:\n  %U\n  %a\n  :CLOCK:\n  :END:&quot;</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;w&quot;</span> <span class="s">&quot;Weekly Report&quot;</span> <span class="nv">entry</span>
       <span class="p">(</span><span class="nv">file+headline</span> <span class="s">&quot;~/Documents/Org/WeeklyReports.org&quot;</span> <span class="s">&quot;2013&quot;</span><span class="p">)</span>
       <span class="s">&quot;* %(bnb/workweek-string) \n %? \n %i&quot;</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;i&quot;</span> <span class="s">&quot;Isabelle Journal&quot;</span> <span class="nv">entry</span> <span class="p">(</span><span class="nv">file+datetree</span> <span class="s">&quot;~/Documents/Personal/Org/Isabelle.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* %?\n\tEntered on %U&quot;</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;j&quot;</span> <span class="s">&quot;Johannes Journal&quot;</span> <span class="nv">entry</span> <span class="p">(</span><span class="nv">file+datetree</span> <span class="s">&quot;~/Documents/Personal/Org/Johannes.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* %?\n\tEntered on %U&quot;</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;a&quot;</span> <span class="s">&quot;Andrea Journal&quot;</span> <span class="nv">entry</span> <span class="p">(</span><span class="nv">file+datetree</span> <span class="s">&quot;~/Documents/Personal/Org/Andrea.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* %?\n\tEntered on %U&quot;</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;e&quot;</span> <span class="s">&quot;Journal&quot;</span> <span class="nv">entry</span> <span class="p">(</span><span class="nv">file+datetree</span> <span class="s">&quot;~/Documents/Personal/Org/Journal.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* %?\n\tEntered on %U&quot;</span><span class="p">)</span>
      <span class="p">(</span><span class="s">&quot;o&quot;</span> <span class="s">&quot;org-outlook&quot;</span> <span class="nv">entry</span>
       <span class="p">(</span><span class="nv">file</span> <span class="s">&quot;~/Documents/Org/Refile.org&quot;</span><span class="p">)</span>
       <span class="s">&quot;* TODO EMAIL: %:title (%:sender)</span>
<span class="s">    %c</span>

<span class="s">    %?&quot;</span> <span class="ss">:clock-in</span> <span class="no">t</span> <span class="ss">:clock-resume</span> <span class="no">t</span><span class="p">)))</span>
</pre></div>
<p>    There are five main capture templates here. The first two store a
    todo item in my Refile.org file. The only difference is automatic
    (contextual) link storage in the second case.
</p><p>    The next item simply stores a note. The next for &quot;Weekly Report&quot;
    is a work in progress. I think that I'll have to either settle
    for a proper datetree or write a custom function.
</p><p>    The final item is not for direct use, but through the
    
<verbatim>org-protocol</verbatim> interface and 
<verbatim>org-outlook</verbatim> usage. This lets me
<!-- 
 -->    add a link to an Outlook message on windows. I can then get an
    email at work, mark it to store in emacs and quickly get back to
    the message later.
</p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Refile</h4><p>    
<a href="info:org#Refiling%20notes">Refiling notes</a> is also spectacular with Org. That is what makes
<!-- 
 -->    it possible for me to simply put every captured item into
    Refile.org and worry about organization later.
</p><p>    For my setup, I use separate files that hold a singular Tasks
    headline. Because of that, I turn on caching first.
</p><p>    For the refile targets, I will allow up to 2 levels of search for
    filing in any of the agenda files. For refiling within the current
    file, I set the max to five levels. Anything deeper than six
    levels will exhaust the depth of my thought.
</p><p>    Finally, I set the filenames to be first for refiling.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-refile-use-cache</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-refile-targets</span> <span class="o">'</span><span class="p">((</span><span class="nv">org-agenda-files</span> <span class="ss">:maxlevel</span> <span class="o">.</span> <span class="mi">2</span><span class="p">)</span>
                           <span class="p">(</span><span class="no">nil</span> <span class="ss">:maxlevel</span> <span class="o">.</span> <span class="mi">5</span><span class="p">)))</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-refile-use-outline-path</span> <span class="ss">'file</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Agenda</h4><p>    Once I have captured and refiled my tasks, I need to remember to
    do them and see what is on the agenda. The ways to view the tasks
    at hand are nicely programmable.
</p><p>    Some basic settings control small tidbits in the agenda. I turn
    on tags in the agenda line, show the logged items for the day,
    and only show a time grid if a scheduled tasks exists.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-agenda-show-inherited-tags</span> <span class="no">t</span><span class="p">)</span>

<span class="p">(</span><span class="k">setq</span> <span class="nv">org-agenda-log-mode-items</span> <span class="o">'</span><span class="p">(</span><span class="nv">clock</span><span class="p">))</span>

<span class="p">(</span><span class="k">setq</span> <span class="nv">org-agenda-clockreport-parameter-plist</span> <span class="p">(</span><span class="k">quote</span> <span class="p">(</span><span class="ss">:link</span> <span class="no">nil</span> <span class="ss">:maxlevel</span> <span class="mi">2</span> <span class="ss">:fileskip0</span> <span class="no">t</span><span class="p">)))</span>

<span class="p">(</span><span class="k">setq</span> <span class="nv">org-agenda-time-grid</span>
      <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="nv">daily</span> <span class="nv">today</span> <span class="nv">require-timed</span><span class="p">)</span>
	      <span class="s">&quot;----------------&quot;</span>
	      <span class="p">(</span><span class="mi">800</span> <span class="mi">1000</span> <span class="mi">1200</span> <span class="mi">1400</span> <span class="mi">1600</span> <span class="mi">1800</span> <span class="mi">2000</span><span class="p">))))</span>
</pre></div>
<p></p><p></p><p></p><p></p><section class="hsec5"><h5>Views</h5><p>     The key to knowing what work there is the agenda views. These
     provide a landscape to list, filter or manipulate
     tasks. 
<verbatim>org-agenda-custom-commands</verbatim> defines which views are
<!-- 
 -->     available by default.
</p><p>     First, I define a little helper function (from Sacha Chua) to
     display a note with agenda.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/org-agenda-with-tip</span> <span class="p">(</span><span class="nv">arg</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">org-agenda-list</span> <span class="nv">arg</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">inhibit-read-only</span> <span class="no">t</span><span class="p">)</span>
          <span class="p">(</span><span class="nv">pos</span> <span class="p">(</span><span class="nv">point</span><span class="p">)))</span>
      <span class="p">(</span><span class="nv">goto-char</span> <span class="p">(</span><span class="nv">point-max</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">insert</span> <span class="s">&quot;\n&quot;</span> <span class="p">(</span><span class="nv">bnb/random-keybinding</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">goto-char</span> <span class="nv">pos</span><span class="p">)))</span>
</pre></div>
<p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-agenda-custom-commands</span>
        <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">&quot;a&quot;</span> <span class="s">&quot;Agenda&quot;</span> <span class="nv">bnb/org-agenda-with-tip</span><span class="p">)</span>
                <span class="p">(</span><span class="s">&quot;w&quot;</span> <span class="s">&quot;Tasks waiting on something&quot;</span> <span class="nv">tags</span> <span class="s">&quot;WAITING/!&quot;</span>
                 <span class="p">((</span><span class="nv">org-use-tag-inheritance</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-scheduled</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-deadlines</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-with-date</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Waiting Tasks&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;r&quot;</span> <span class="s">&quot;Refile New Notes and Tasks&quot;</span> <span class="nv">tags</span> <span class="s">&quot;LEVEL=1+REFILE&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-todo-ignore-with-date</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-deadlines</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-scheduled</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Tasks to Refile&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;n&quot;</span> <span class="s">&quot;Next&quot;</span> <span class="nv">tags-todo</span> <span class="s">&quot;-WAITING-CANCELED/!NEXT&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Next Tasks&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;A&quot;</span> <span class="s">&quot;Tasks to be Archived&quot;</span> <span class="nv">tags</span> <span class="s">&quot;LEVEL=2-REFILE/DONE|CANCELED&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Tasks to Archive&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;u&quot;</span> <span class="s">&quot;Upcoming tasks&quot;</span> <span class="nv">tags</span> <span class="s">&quot;+SCHEDULED&lt;=\&quot;&lt;+1w&gt;\&quot;-TODO=\&quot;DONE\&quot;|+DEADLINE&lt;=\&quot;&lt;+1w&gt;\&quot;-TODO=\&quot;DONE\&quot;&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Upcoming tasks&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;U&quot;</span> <span class="s">&quot;Unscheduled tasks&quot;</span> <span class="nv">todo</span> <span class="s">&quot;TODO&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Unscheduled Tasks&quot;</span><span class="p">)</span>
                   <span class="p">(</span><span class="nv">org-agenda-skip-function</span>
                   <span class="p">(</span><span class="k">lambda</span> <span class="no">nil</span>
                     <span class="p">(</span><span class="nv">org-agenda-skip-entry-if</span> <span class="p">(</span><span class="k">quote</span> <span class="nv">scheduled</span><span class="p">)</span> <span class="p">(</span><span class="k">quote</span> <span class="nv">deadline</span><span class="p">))))))</span>
                <span class="p">(</span><span class="s">&quot;P&quot;</span> <span class="s">&quot;Printable Agenda&quot;</span> <span class="c1">;tags-todo &quot;-DONE-CANCELED-SOMEDAY&quot;</span>
                 <span class="p">((</span><span class="nv">tags-todo</span> <span class="s">&quot;+IGNORE&quot;</span>
                             <span class="p">((</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;\n== Upcoming Items ==\n&quot;</span><span class="p">)))</span>
                  <span class="p">(</span><span class="nv">agenda</span> <span class="s">&quot;&quot;</span> <span class="p">((</span><span class="nv">org-agenda-span</span> <span class="mi">14</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-start-on-weekday</span> <span class="no">nil</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-prefix-format</span> <span class="s">&quot;[ ] %T:\t&quot;</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-repeating-timestamp-show-all</span> <span class="no">t</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-deadline-warning-days</span> <span class="mi">7</span><span class="p">)))</span>
                  <span class="p">(</span><span class="nv">tags-todo</span> <span class="s">&quot;-DRB-SOMEDAY-REFERENCE-BNBECKWITH&quot;</span>
                             <span class="p">((</span><span class="nv">org-agenda-prefix-format</span> <span class="s">&quot;[ ] %T:\t&quot;</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-sorting-strategy</span> <span class="o">'</span><span class="p">(</span><span class="nv">tag-up</span> <span class="nv">priority-down</span><span class="p">))</span>
                              <span class="p">(</span><span class="nv">org-agenda-todo-keyword-format</span> <span class="s">&quot;&quot;</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-todo-ignore-with-date</span> <span class="no">nil</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-todo-ignore-scheduled</span> <span class="no">nil</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-todo-ignore-deadlines</span> <span class="no">nil</span><span class="p">)</span>
                              <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;\nTasks by Context\n------------------\n&quot;</span><span class="p">))))</span>
                 <span class="p">((</span><span class="nv">ps-number-of-columns</span> <span class="mi">2</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">ps-landscape-mode</span> <span class="no">t</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-with-colors</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-compact-blocks</span> <span class="no">t</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-remove-tags</span> <span class="no">t</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">ps-paper-type</span> <span class="ss">'a4</span><span class="p">))</span>
                 <span class="p">(</span><span class="s">&quot;~/TODO.pdf&quot;</span> <span class="s">&quot;~/TODO.ps&quot;</span><span class="p">))</span>
                <span class="p">(</span><span class="s">&quot;l&quot;</span> <span class="s">&quot;Scoreless&quot;</span> <span class="nv">tags-todo</span> <span class="s">&quot;+Score&lt;1&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-todo-ignore-with-date</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-scheduled</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-deadlines</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Scoreless Tasks&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;h&quot;</span> <span class="s">&quot;Habits&quot;</span> <span class="nv">tags</span> <span class="s">&quot;STYLE=\&quot;habit\&quot;&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-todo-ignore-with-date</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-scheduled</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-todo-ignore-deadlines</span> <span class="no">nil</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Habits&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;#&quot;</span> <span class="s">&quot;Stuck Projects&quot;</span> <span class="nv">tags-todo</span> <span class="s">&quot;LEVEL=2-REFILE+PROJECT|LEVEL=1+REFILE/!-DONE-CANCELED&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-skip-function</span> <span class="ss">'bh/skip-non-stuck-projects</span><span class="p">)</span>
                  <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Stuck Projects&quot;</span><span class="p">)))</span>
                <span class="p">(</span><span class="s">&quot;z&quot;</span> <span class="s">&quot;Agenda (including Personal Files)&quot;</span> <span class="nv">agenda</span> <span class="s">&quot;&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-files</span> <span class="p">(</span><span class="nb">list</span> <span class="s">&quot;~/Documents/Personal/Org/&quot;</span><span class="p">))))</span>
                <span class="p">(</span><span class="s">&quot;c&quot;</span> <span class="s">&quot;Select default clocking task&quot;</span> <span class="nv">tags</span> <span class="s">&quot;LEVEL=2-REFILE&quot;</span>
                 <span class="p">((</span><span class="nv">org-agenda-skip-function</span>
                   <span class="o">'</span><span class="p">(</span><span class="nv">org-agenda-skip-subtree-if</span> <span class="ss">'notregexp</span> <span class="s">&quot;^\\*\\* Organization&quot;</span><span class="p">))</span>
                  <span class="p">(</span><span class="nv">org-agenda-overriding-header</span> <span class="s">&quot;Set default clocking task with C-u C-u I&quot;</span><span class="p">))))))</span>
</pre></div>
<p>     Phew! That is a lot of lisp! It is easiest to describe each view
     by the key that triggers it.
</p><p></p><ul><li>
<verbatim>a</verbatim> Agenda with tip (keystroke tip)
<!-- 
 -->       Any task with the NEXT tag
       
Any task with the NEXT tag
       Scheduled or due in the next week.
       
Scheduled or due in the next week.
       Formats tasks at the top with upcoming items below.
       
Formats tasks at the top with upcoming items below.
       Use this to get the scoreless tasks and edit in column mode
       
Use this to get the scoreless tasks and edit in column mode
</li><li>
<verbatim>w</verbatim> Tasks waiting on something
<!-- 
 --></li><li>
<verbatim>r</verbatim> Refile New notes and tasks
<!-- 
 --></li><li>
<verbatim>n</verbatim> Next
<!-- 
 --></li><li>
<verbatim>A</verbatim> Tasks ready for Archive
<!-- 
 --></li><li>
<verbatim>u</verbatim> Upcoming tasks
<!-- 
 --></li><li>
<verbatim>U</verbatim> Unscheduled tasks
<!-- 
 --></li><li>
<verbatim>P</verbatim> Printable agenda
<!-- 
 --></li><li>
<verbatim>S</verbatim> Scoreless tasks
<!-- 
 --></li><li>
<verbatim>h</verbatim> Habits
<!-- 
 --></li><li>
<verbatim>#</verbatim> Stuck projects
<!-- 
 --></li><li>
<verbatim>z</verbatim> Agenda with Personal Files
<!-- 
 --></li><li>
<verbatim>c</verbatim> Select default clocking task
<!-- 
 --></li></ul><p></p><p></p><p></p><p></p><p></p><p></p></section></section><section class="hsec4"><h4>Export</h4><p>    Some global export settings make sense for HTML and \LaTeX
</p><p>    For HTML, I just want to inline the links to images.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-export-html-inline-images</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p>    I also used to suppress the postamble with
    
<verbatim>org-export-html-postamble</verbatim>.
<!-- 
 --></p><p>    For \LaTeX, I want to convert fragments to images, and use minted
    for any source blocks. I also want to have 
<verbatim>xelatex</verbatim> as the
<!-- 
 -->    backend.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-export-latex-listings</span> <span class="ss">'minted</span><span class="p">)</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-export-latex-custom-lang-environments</span>
        <span class="o">'</span><span class="p">((</span><span class="nv">emacs-lisp</span> <span class="s">&quot;common-lispcode&quot;</span><span class="p">)))</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-export-latex-minted-options</span> <span class="o">'</span><span class="p">())</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-latex-to-pdf-process</span>
        <span class="o">'</span><span class="p">(</span><span class="s">&quot;xelatex -shell-escape -interaction nonstopmode -output-directory %o %f&quot;</span>
          <span class="s">&quot;xelatex -shell-escape -interaction nonstopmode -output-directory %o %f&quot;</span>
          <span class="s">&quot;xelatex -shell-escape -interaction nonstopmode -output-directory %o %f&quot;</span><span class="p">))</span>
</pre></div>
<p></p><p>    Also, I want to enable some of the other contributed
    exporters. To do this, simply require the files necessary that
    are not on by default.
</p><p>    I add exporters for Markdown (
<verbatim>ox-md.el</verbatim>) and beamer
<!-- 
 -->    (
<verbatim>ox-beamer.el</verbatim>).
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">require</span> <span class="ss">'ox-md</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'ox-beamer</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Clocking</h4><p>    I have found clocking to be useful in understanding where my time
    goes. And Org makes this easy, fast and painless to do. So very
    nice.
</p><p>    The clock has some general settings around persistence (resuming
    clocks), history length and resuming a task after clocking in
    twice (interrupted task).
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">org-clock-persistence-insinuate</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-history-length</span> <span class="mi">28</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-in-resume</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p>    Behavior of the clock can change to accommodate other needs. I
    like having clocks log into a specific drawer. Also, it is nice
    to remove zero-time clocks and clock out automatically when an
    item completes.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-into-drawer</span> <span class="s">&quot;CLOCK&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-out-remove-zero-time-clocks</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-out-when-done</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p>    Two settings help resolve most clock issues that I have
    seen. Persisting the clock across sessions helps prevent loss of
    time by accident. Auto-resolution of open clocks help prompt how
    to handle the situation where a dangling clock exists.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-persist</span> <span class="ss">'history</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-auto-clock-resolution</span> <span class="ss">'when-no-clock-is-running</span><span class="p">)</span>
</pre></div>
<p>    Two final settings regarding clocking setup how I change and view
    the clocks. I want any clock reports to include the currently
    clocked task as well. And for clock editing, I change to 15
    minute increments.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-clock-report-include-clocking-task</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-time-stamp-rounding-minutes</span> <span class="o">'</span><span class="p">(</span><span class="mi">1</span> <span class="mi">15</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Modules</h4><p>    Org-modules allow for specific functionality within org-mode.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="k">setq</span> <span class="nv">org-modules</span>
        <span class="p">(</span><span class="k">quote</span>
         <span class="p">(</span><span class="nv">org-bbdb</span>
          <span class="nv">org-bibtex</span>
          <span class="nv">org-crypt</span>
          <span class="nv">org-gnus</span>
          <span class="nv">org-id</span>
          <span class="nv">org-info</span>
          <span class="nv">org-jsinfo</span>
          <span class="nv">org-habit</span>
          <span class="nv">org-inlinetask</span>
          <span class="nv">org-irc</span>
          <span class="nv">org-plot</span>
          <span class="nv">org-protocol</span>
          <span class="nv">org-bookmark</span>
          <span class="nv">org-calc</span><span class="p">)))</span>
</pre></div>
<p></p><p></p><section class="hsec5"><h5>Org-protocol</h5><p>     For some reason, I have to load 
<verbatim>org-protocol</verbatim> explicitly in
<!-- 
 -->     order to work.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">require</span> <span class="ss">'org-protocol</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec5"><h5>Crypt</h5><p>     Encrypts contents of headlines with 
<verbatim>gpg</verbatim> when saved
<!-- 
 -->     with the &quot;crypt&quot; tag.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">require</span> <span class="ss">'org-crypt</span><span class="p">)</span>
<span class="p">(</span><span class="nv">org-crypt-use-before-save-magic</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-tags-exclude-from-inheritance</span> <span class="p">(</span><span class="k">quote</span> <span class="p">(</span><span class="s">&quot;crypt&quot;</span><span class="p">)))</span>
</pre></div>
<p>     The 
<verbatim>org-crypt-key</verbatim> variable will let this use an address from
<!-- 
 -->     the public keyring.
</p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Habit</h5><p>     Some tasks repeat, but you still want to log when you have done
     it. I use this to help me always do my weekly or yearly
     reviews. By including it in 
<verbatim>org-modules</verbatim>, habits get activated.
<!-- 
 --></p><p>     My one setting blow sets a width for the graph in Agenda View.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-habit-graph-column</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Drill</h5><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">require</span> <span class="ss">'org-drill</span><span class="p">)</span>
</pre></div>
<p></p><p></p></section></section><section class="hsec4"><h4>Babel</h4><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">org-babel-do-load-languages</span>
   <span class="ss">'org-babel-load-languages</span>
   <span class="o">'</span><span class="p">((</span><span class="nv">emacs-lisp</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">gnuplot</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">clojure</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">ditaa</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">dot</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">latex</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">python</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">perl</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">R</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">C</span> <span class="o">.</span> <span class="no">t</span><span class="p">)</span>
     <span class="p">(</span><span class="nv">sqlite</span> <span class="o">.</span> <span class="no">t</span><span class="p">)))</span>

  <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">system-type</span> <span class="ss">'windows-nt</span><span class="p">)</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">org-babel-R-command</span> <span class="s">&quot;C:/Progra~1/R/R-2.15.1/bin/R --slave --no-save&quot;</span><span class="p">))</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Miscellaneous Settings</h4><section class="hsec5"><h5>Columns</h5><p>     The default columns are as follows.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-columns-default-format</span>
      <span class="s">&quot;%80ITEM(Task) %5Score{+} %10Effort(Effort){:} %10CLOCKSUM&quot;</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec5"><h5>Automatically save org files</h5><p>    I like to save early and often. In earlier versions of orgmode, I
    sometimes had the capture buffer/timer crash on me. So, now I
    save at the top of every hour to be sure.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">run-at-time</span> <span class="s">&quot;00:59&quot;</span> <span class="mi">3600</span> <span class="ss">'org-save-all-org-buffers</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec5"><h5>File Applications</h5><p>     This list lets org know how to handle the links of given file
     types. Most things open inside 
<verbatim>emacs</verbatim>, but the others
<!-- 
 -->     set to default rely on the OS to supply a program.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-file-apps</span>
      <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="nv">auto-mode</span> <span class="o">.</span> <span class="nv">emacs</span><span class="p">)</span>
	      <span class="p">(</span><span class="s">&quot;\\.x?html?\\'&quot;</span> <span class="o">.</span> <span class="nv">default</span><span class="p">)</span>
	      <span class="p">(</span><span class="s">&quot;\\.pdf\\'&quot;</span> <span class="o">.</span> <span class="nv">default</span><span class="p">)</span>
	      <span class="p">(</span><span class="s">&quot;\\.mm\\'&quot;</span> <span class="o">.</span> <span class="nv">default</span><span class="p">))))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec5"><h5>Goto Interface</h5><p>     By using 
<verbatim>C-c C-j</verbatim>, you can jump easily around a large orgfile
<!-- 
 -->     such as this one. Naturally, the interface you use to do so is
     customizable.
</p><p>     I explicitly set it to the default because I sometimes go back
     and forth with the default and 
<verbatim>outline-path-completion</verbatim> setting.
<!-- 
 --></p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-goto-interface</span> <span class="ss">'outline-path</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Special Control Keys</h5><p>     Orgmode has a different idea of some of the default emacs
     commands to make it easier to work with the structures involved.
</p><p>     For 
<verbatim>C-a</verbatim> or 
<verbatim>C-e</verbatim> within a headline, it will only try to
<!-- 
 -->     navigate the headline text the first time. Additional keypresses
     will move to the true beginning/ending of lines.
</p><p>     
<verbatim>C-k</verbatim> also can behave specially in headlines depending on its
<!-- 
 -->     location. When point is at the beginning, it will kill the
     headline and the folded subtree below. In the middle of a
     headline, it kills the headline text up to the tags. After the
     headline text, it kills the tags.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-special-ctrl-a/e</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-special-ctrl-k</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Auto-revert mode</h5><p>     If the org files are under DVCS like git, then the edits may
     happen while open in emacs.
</p><p>     This is a global setting, but most useful for the org files that
     exists elsewhere.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">global-auto-revert-mode</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>IDO Integration</h5><p>     IDO integrates well into orgmode. Anytime completion is
     necessary, I like to use the IDO mechanics.
</p><p>     What follows is a few of the smaller settings to make 
<verbatim>ido</verbatim>     really sing.
</p><p></p><div class="highlight"><pre>  <span class="c1">; Try to guess if point is at a filename</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">ido-use-filename-at-point</span> <span class="ss">'guess</span><span class="p">)</span>

  <span class="c1">; Do not ask to create a new buffer -- just do it.</span>
  <span class="p">(</span><span class="k">setq</span> <span class="nv">ido-create-new-buffer</span> <span class="ss">'always</span><span class="p">)</span>
</pre></div>
<p></p><p>     If 
<verbatim>outline-path-completion</verbatim> is used, then it is best to have it
<!-- 
 -->     not complete in steps with IDO mode.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-completion-use-ido</span> <span class="no">t</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-outline-path-complete-in-steps</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p>     Additionally, I use the 
<a href="https://github.com/technomancy/ido-ubiquitous">ido-ubiquitous</a> package to 
<em>really
</em> get
<!-- 
 --><!-- 
 -->     
<verbatim>ido</verbatim> everywhere. Install it via the package system and then
<!-- 
 -->     enable it on startup.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">ido-ubiquitous</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><section class="hsec6"><h6>IDO Everywhere Settings</h6><p>      Here is a setting that disables 
<verbatim>ido-ubiquitous</verbatim> completion from
<!-- 
 -->      any commands listed.  I have 
<verbatim>insert-char</verbatim> here (called with
<!-- 
 -->      
<verbatim>C-x 8 <ret></ret></verbatim>) because I like to see the buffer of UTF8 names
<!-- 
 -->      for completion.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">ido-ubiquitous-command-exceptions</span> <span class="o">'</span><span class="p">(</span><span class="nv">insert-char</span> <span class="nv">execute-extended-command</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec6"><h6>Smex</h6><p>      
<a href="http://www.emacswiki.org/emacs/Smex">Read more about Smex on the Emacs Wiki</a></p><p>      This is built on top of 
<verbatim>ido-mode</verbatim> which is why it is here.
<!-- 
 -->      This provides better 
<verbatim>M-x</verbatim> functionality.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;M-x&quot;</span><span class="p">)</span> <span class="ss">'smex</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;M-X&quot;</span><span class="p">)</span> <span class="ss">'smex-major-mode-commands</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">global-set-key</span> <span class="p">(</span><span class="nv">kbd</span> <span class="s">&quot;C-c C-c M-x&quot;</span><span class="p">)</span> <span class="ss">'execute-extended-command</span><span class="p">)</span>
</pre></div>
<p>      One of the nice things about the default command selection (read
      non-ido) is the ability to type &quot; &quot; and have it expand to
      &quot;-&quot;. This is possible again with a bit of advice.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">defadvice</span> <span class="nv">smex</span> <span class="p">(</span><span class="nv">around</span> <span class="nv">space-inserts-hyphen</span> <span class="nv">activate</span> <span class="nb">compile</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">ido-cannot-complete-command</span>
           <span class="o">`</span><span class="p">(</span><span class="k">lambda</span> <span class="p">()</span>
              <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
              <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nb">string=</span> <span class="s">&quot; &quot;</span> <span class="p">(</span><span class="nv">this-command-keys</span><span class="p">))</span>
                  <span class="p">(</span><span class="nv">insert</span> <span class="nv">?-</span><span class="p">)</span>
                <span class="p">(</span><span class="nb">funcall</span> <span class="o">,</span><span class="nv">ido-cannot-complete-command</span><span class="p">)))))</span>
      <span class="nv">ad-do-it</span><span class="p">))</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p></section></section><section class="hsec5"><h5>Display settings</h5><p>     There are a collection of settings that define how the
     headlines, subtrees, and notes render.
</p><p>     For the headline stars, there are two settings of note. I am
     explicit that I do 
<strong>not
</strong> want only odd levels. I also like to
<!-- 
 -->     hide the leading stars.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-odd-levels-only</span> <span class="no">nil</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-hide-leading-stars</span> <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p>     Cycling the headline states can produce different views of the
     files. I like this to be as compact as possible, so I try to
     squash the lines between the collapsed trees. There is also a
     flag to open a file collapsed. This I like too -- I get a
     compact view of the file and can jump to a relevant section with
     
<verbatim>C-c C-j</verbatim>.
<!-- 
 --></p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-cycle-separator-lines</span> <span class="mi">0</span><span class="p">)</span>
<span class="p">(</span><span class="k">setq</span> <span class="nv">org-startup-folded</span> <span class="ss">'content</span><span class="p">)</span>
</pre></div>
<p>     When using SRC-blocks, org can provide highlighting native to
     the SRC type. Note that this may slow down some files.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-src-fontify-natively</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Insertion</h5><p>     I define when org should leave a blank line before an
     item. In my case, it is headings and plain list items.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-blank-before-new-entry</span> <span class="o">'</span><span class="p">((</span><span class="nv">heading</span><span class="p">)</span>
                                   <span class="p">(</span><span class="nv">plain-list-item</span><span class="p">)))</span>
</pre></div>
<p>     Also, when inserting a new heading, do so after the current
     subtree.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-insert-heading-respect-content</span> <span class="no">t</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p><p></p></section><section class="hsec5"><h5>Properties</h5><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">org-global-properties</span> <span class="p">(</span><span class="k">quote</span> <span class="p">((</span><span class="s">&quot;STYLE_ALL&quot;</span> <span class="o">.</span> <span class="s">&quot;habit&quot;</span><span class="p">)</span>
				    <span class="p">(</span><span class="s">&quot;Effort_ALL&quot;</span> <span class="o">.</span> <span class="s">&quot;0:10 0:30 1:00 2:00 3:00 4:00&quot;</span><span class="p">)</span>
				    <span class="p">(</span><span class="s">&quot;Score_ALL&quot;</span> <span class="o">.</span> <span class="s">&quot;10 5 2 1&quot;</span><span class="p">))))</span>
</pre></div>
<p></p><p></p></section></section><section class="hsec4"><h4>Org-drill</h4><p></p><p></p><p></p><p></p><p></p></section></section><section class="hsec3"><h3>Elisp Extras</h3><section class="hsec4"><h4>Google</h4><p></p><div class="highlight"><pre><span class="p">(</span><span class="nb">defun</span> <span class="nv">google</span> <span class="p">()</span>
  <span class="s">&quot;Google the selected region if any, display a query prompt otherwise.&quot;</span>
  <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
  <span class="p">(</span><span class="nv">browse-url</span>
   <span class="p">(</span><span class="nv">concat</span>
    <span class="s">&quot;http://www.google.com/search?ie=utf-8&amp;oe=utf-8&amp;q=&quot;</span>
    <span class="p">(</span><span class="nv">url-hexify-string</span> <span class="p">(</span><span class="k">if</span> <span class="nv">mark-active</span>
         <span class="p">(</span><span class="nv">buffer-substring</span> <span class="p">(</span><span class="nv">region-beginning</span><span class="p">)</span> <span class="p">(</span><span class="nv">region-end</span><span class="p">))</span>
       <span class="p">(</span><span class="nv">read-string</span> <span class="s">&quot;Google: &quot;</span><span class="p">))))))</span>
</pre></div>
<p></p><p></p></section><section class="hsec4"><h4>Keywiz from Sacha Chua</h4><p>    Taken from
    
<a href="http://sachachua.com/blog/2013/02/rediscovering-emacs-features-or-what-to-do-after-you-get-carried-away-installing-packages/">http://sachachua.com/blog/2013/02/rediscovering-emacs-features-or-what-to-do-after-you-get-carried-away-installing-packages/</a></p><p>    This gets used in the default agenda view to provide help on
    built-in keybindings.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">unless</span> <span class="p">(</span><span class="nv">package-installed-p</span> <span class="ss">'keywiz</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">package-install</span> <span class="ss">'keywiz</span><span class="p">))</span>
  <span class="p">(</span><span class="nb">require</span> <span class="ss">'keywiz</span><span class="p">)</span>
  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/load-keybindings</span> <span class="p">()</span>
    <span class="s">&quot;Since we don't want to have to pass through a keywiz game each time...&quot;</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">keywiz-cached-commands</span> <span class="no">nil</span><span class="p">)</span>
    <span class="p">(</span><span class="nb">do-all-symbols</span> <span class="p">(</span><span class="nv">sym</span><span class="p">)</span>
      <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">and</span> <span class="p">(</span><span class="nv">commandp</span> <span class="nv">sym</span><span class="p">)</span>
                 <span class="p">(</span><span class="nb">not</span> <span class="p">(</span><span class="nv">memq</span> <span class="nv">sym</span> <span class="o">'</span><span class="p">(</span><span class="nv">self-insert-command</span>
                                  <span class="nv">digit-argument</span> <span class="nv">undefined</span><span class="p">))))</span>
        <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">keys</span> <span class="p">(</span><span class="nb">apply</span> <span class="ss">'nconc</span> <span class="p">(</span><span class="nb">mapcar</span>
                                   <span class="p">(</span><span class="k">lambda</span> <span class="p">(</span><span class="nv">key</span><span class="p">)</span>
                                     <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nv">keywiz-key-press-event-p</span> <span class="nv">key</span><span class="p">)</span>
                                       <span class="p">(</span><span class="nb">list</span> <span class="nv">key</span><span class="p">)))</span>
                                   <span class="p">(</span><span class="nv">where-is-internal</span> <span class="nv">sym</span><span class="p">)))))</span>
          <span class="p">(</span><span class="nb">and</span> <span class="nv">keys</span>
               <span class="p">(</span><span class="nb">push</span> <span class="p">(</span><span class="nb">list</span> <span class="nv">sym</span> <span class="nv">keys</span><span class="p">)</span> <span class="nv">keywiz-cached-commands</span><span class="p">))))))</span>
  <span class="p">(</span><span class="nv">bnb/load-keybindings</span><span class="p">)</span>
  <span class="c1">;; Might be good to use this in org-agenda...</span>
  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/random-keybinding</span> <span class="p">()</span>
    <span class="s">&quot;Describe a random keybinding.&quot;</span>
    <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">command</span> <span class="p">(</span><span class="nv">keywiz-random</span> <span class="nv">keywiz-cached-commands</span><span class="p">))</span>
           <span class="p">(</span><span class="nv">doc</span> <span class="p">(</span><span class="nb">and</span> <span class="nv">command</span> <span class="p">(</span><span class="nb">documentation</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">command</span><span class="p">)))))</span>
      <span class="p">(</span><span class="k">if</span> <span class="nv">command</span>
          <span class="p">(</span><span class="nv">concat</span> <span class="p">(</span><span class="nb">symbol-name</span> <span class="p">(</span><span class="nb">car</span> <span class="nv">command</span><span class="p">))</span> <span class="s">&quot; &quot;</span>
                  <span class="s">&quot;(&quot;</span> <span class="p">(</span><span class="nv">mapconcat</span> <span class="ss">'key-description</span> <span class="p">(</span><span class="nb">cadr</span> <span class="nv">command</span><span class="p">)</span> <span class="s">&quot;, &quot;</span><span class="p">)</span> <span class="s">&quot;)&quot;</span>
                  <span class="p">(</span><span class="k">if</span> <span class="nv">doc</span>
                      <span class="p">(</span><span class="nv">concat</span> <span class="s">&quot;: &quot;</span> <span class="p">(</span><span class="nv">substring</span> <span class="nv">doc</span> <span class="mi">0</span> <span class="p">(</span><span class="nv">string-match</span> <span class="s">&quot;\n&quot;</span> <span class="nv">doc</span><span class="p">)))</span>
                    <span class="s">&quot;&quot;</span><span class="p">))</span>
        <span class="s">&quot;&quot;</span><span class="p">)))</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec4"><h4>Auto-display agenda</h4><p>    From
    http:
<em>/lists.gnu.org
</em>archive
<em>html
</em>emacs-orgmode
<em>2010-03
</em>msg00367.html,
<!-- 
 -->    John Weigley shows a way to display the agenda after some period
    of inactivity.
</p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/jump-to-org-agenda</span> <span class="p">()</span>
    <span class="p">(</span><span class="nv">interactive</span><span class="p">)</span>
    <span class="p">(</span><span class="k">let</span> <span class="p">((</span><span class="nv">buf</span> <span class="p">(</span><span class="nv">get-buffer</span> <span class="s">&quot;*Org Agenda*&quot;</span><span class="p">))</span>
          <span class="nv">wind</span><span class="p">)</span>
      <span class="p">(</span><span class="k">if</span> <span class="nv">buf</span>
          <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="k">setq</span> <span class="nv">wind</span> <span class="p">(</span><span class="nv">get-buffer-window</span> <span class="nv">buf</span><span class="p">))</span>
              <span class="p">(</span><span class="nv">select-window</span> <span class="nv">wind</span><span class="p">)</span>
            <span class="p">(</span><span class="k">if</span> <span class="p">(</span><span class="nv">called-interactively-p</span><span class="p">)</span>
                <span class="p">(</span><span class="k">progn</span>
                  <span class="p">(</span><span class="nv">select-window</span> <span class="p">(</span><span class="nv">display-buffer</span> <span class="nv">buf</span> <span class="no">t</span> <span class="no">t</span><span class="p">))</span>
                  <span class="p">(</span><span class="nv">org-fit-window-to-buffer</span><span class="p">))</span>
              <span class="p">(</span><span class="nv">with-selected-window</span> <span class="p">(</span><span class="nv">display-buffer</span> <span class="nv">buf</span><span class="p">)</span>
                <span class="p">(</span><span class="nv">org-fit-window-to-buffer</span><span class="p">))))</span>
         <span class="p">(</span><span class="nv">bnb/org-agenda-with-tip</span> <span class="no">nil</span><span class="p">))))</span>

  <span class="p">(</span><span class="nb">defun</span> <span class="nv">bnb/idle-agenda</span> <span class="p">(</span><span class="k">&amp;optional</span> <span class="nv">arg</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">interactive</span> <span class="s">&quot;P&quot;</span><span class="p">)</span>
    <span class="p">(</span><span class="k">setq</span> <span class="nv">bnb/iagenda</span>
          <span class="p">(</span><span class="k">if</span> <span class="nv">arg</span>
              <span class="p">(</span><span class="nv">cancel-timer</span> <span class="nv">bnb/iagenda</span><span class="p">)</span>
            <span class="p">(</span><span class="nv">run-with-idle-timer</span> <span class="mi">3600</span> <span class="no">t</span> <span class="ss">'bnb/jump-to-org-agenda</span><span class="p">))))</span>

  <span class="p">(</span><span class="nb">when</span> <span class="p">(</span><span class="nb">eq</span> <span class="nv">system-type</span> <span class="ss">'windows-nt</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">bnb/idle-agenda</span><span class="p">))</span>
</pre></div>
<p>    The when clause at the end is because I primarily keep my agenda
    information on Windows. No need to have my agenda open on the
    different GNU/Linux boxes all the time.
</p><p></p><p></p><p></p><p></p></section></section><section class="hsec3"><h3>Server</h3><p>   
<a href="info:emacs#Emacs%20Server">Using Emacs as a server</a> is a great way to keep the power
<!-- 
 -->   responsive.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="nv">server-start</span><span class="p">)</span>
</pre></div>
<p>   I need to look into the TCP connections to see how
   that work across machines. Perhaps it can be useful in a
   multi-machine work environment.
</p><p></p><p></p><p></p><p></p></section><section class="hsec3"><h3>Local customizations (custom.el)</h3><p>   I typically use the customize interface to generate any local
   settings such as proxies, paths, fonts, etc. that may vary from
   machine to machine.
</p><p></p><div class="highlight"><pre><span class="p">(</span><span class="k">setq</span> <span class="nv">custom-file</span> <span class="s">&quot;~/.emacs.d/custom.el&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nv">load-file</span> <span class="nv">custom-file</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p></section><section class="hsec3"><h3>Local customizations (system-name)</h3><p>   I also intend to have a generic call to an installed local file
   that may need to behave differently from 
<verbatim>custom.el</verbatim>. This is
<!-- 
 -->   called last so that it can modify any existing setting made here
   to work on the specific system in question.
</p><p>   In the code below, I add =~
<em>.emacs.d
</em>= to the load path and have a
<!-- 
 -->   protected call to 
<verbatim>load-library</verbatim>.  If the file exists, it gets
<!-- 
 -->   loaded, otherwise the error normally returned if the file is
   non-existant gets ignored.
</p><p></p><div class="highlight"><pre>    <span class="p">(</span><span class="nv">add-to-list</span> <span class="ss">'load-path</span> <span class="s">&quot;~/.emacs.d/&quot;</span><span class="p">)</span>
    <span class="p">(</span><span class="nv">condition-case</span> <span class="nv">err</span>
        <span class="p">(</span><span class="k">progn</span>
          <span class="p">(</span><span class="nv">load-library</span> <span class="nv">system-name</span><span class="p">)</span>
          <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;Loaded local settings file %s&quot;</span> <span class="nv">system-name</span><span class="p">))</span>
      <span class="p">(</span><span class="kt">file-error</span>
       <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;Skipping %s library as it does not exist.&quot;</span> <span class="nv">system-name</span><span class="p">))</span>
      <span class="no">nil</span><span class="p">)</span>
</pre></div>
<p></p><p></p><p></p><p></p></section><section class="hsec3"><h3>End Timer</h3><p>   Check how long it took to read this (generated) setup file and
   report in the =
<strong>Messages
</strong>= buffer.
<!-- 
 --></p><p></p><div class="highlight"><pre>  <span class="p">(</span><span class="nv">message</span> <span class="s">&quot;Setup.org loaded in %ds&quot;</span>
           <span class="p">(</span><span class="nb">-</span> <span class="p">(</span><span class="nb">car</span> <span class="p">(</span><span class="nb">cdr</span> <span class="p">(</span><span class="nv">current-time</span><span class="p">)))</span>
              <span class="p">(</span><span class="nb">car</span> <span class="p">(</span><span class="nb">cdr</span> <span class="vg">*emacs-load-start*</span><span class="p">))))</span>
</pre></div>
<p></p><p></p></section></section></section></article>

      
      
      
      
      
    </main>
  </content>
  <footer>
     B.N.Beckwith 2014 | <a href="/rss">RSS</a>
  </footer>


</body></html>